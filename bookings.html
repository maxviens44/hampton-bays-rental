<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bookings, Calendar, and Rates | StayTheHamptons</title>
    <meta name="description" content="Check availability, send a booking inquiry, and view rates for Luxury Hamptons Retreat." />
    <link rel="icon" href="/favicon.png" />
    <style>
      :root { --maxw: 1100px; --pad: 16px; }
      * { box-sizing: border-box; }
      body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: #111; background: #fff; }
      header { position: sticky; top: 0; background: rgba(255,255,255,.95); border-bottom: 1px solid #eee; backdrop-filter: saturate(150%) blur(6px); z-index: 10; }
      .wrap { max-width: var(--maxw); margin: 0 auto; padding: 10px var(--pad); }
      .brand { font-weight: 600; font-size: 16px; text-decoration: none; color: #111; }
      nav a { text-decoration: none; color: #111; padding: 8px 10px; border-radius: 8px; }
      nav a:hover { background: #f4f4f5; }

      /* Hero section */
      .hero {
        position: relative;
        width: 100%;
        height: 300px;
        background: url('/images/beach.png') center/cover no-repeat;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.4);
      }
      .hero-content {
        position: relative;
        color: #fff;
        z-index: 1;
        padding: 0 16px;
      }
      .hero-content h1 {
        font-size: 32px;
        margin: 0 0 10px;
      }
      .hero-content p {
        font-size: 18px;
        margin: 0;
      }

      h2 { font-size: 18px; margin: 22px 0 10px; }
      p.lead { color: #444; }
      .section { padding: 12px 0 24px; border-top: 1px solid #eee; }
      .card { border: 1px solid #eee; border-radius: 14px; padding: 14px; background: #fff; overflow: visible; }
      footer { border-top: 1px solid #eee; margin-top: 24px; }
      .note { font-size: 13px; color: #666; }
      .top-nav { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
      .links { display: flex; gap: 6px; align-items: center; flex-wrap: wrap; }

      /* OwnerRez widgets base */
      .ownerrez-widget { width: 100%; }
      .ownerrez-widget iframe {
        width: 100% !important;
        border: 0;
        display: block;
      }

      /* Yearly calendar height is clamped by JS, but keep a default for first paint */
      .ownerrez-widget[data-widget-type*="Yearly"] iframe {
        height: 600px !important;
      }

      @media (max-width: 640px) {
        .hero { height: 200px; }
        .hero-content h1 { font-size: 24px; }
        .hero-content p { font-size: 14px; }
        .ownerrez-widget[data-widget-type*="Yearly"] iframe {
          height: 500px !important;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="wrap top-nav">
        <a class="brand" href="http://staythehamptons.com/">StayTheHamptons</a>
        <nav class="links">
          <a href="http://staythehamptons.com/#about">About</a>
          <a href="http://staythehamptons.com/#gallery">Gallery</a>
          <a href="http://staythehamptons.com/#/info">Info</a>
          <a href="http://staythehamptons.com/#/reviews">Reviews</a>
          <a href="http://staythehamptons.com/#/usopen">US Open 2026</a>
          <a href="http://staythehamptons.com/#/contact">Contact</a>
        </nav>
      </div>
    </header>

    <!-- Hero image with overlay text -->
    <section class="hero">
      <div class="hero-content">
        <h1>Bookings, Calendar, and Rates</h1>
        <p>Send a booking inquiry, check availability, and view current rates using the options below..</p>
      </div>
    </section>

    <main class="wrap">
      <section id="booking" class="section">
        <h2>Bookings and Inquiry</h2>
        <div class="card">
          <!-- OwnerRez Booking/Inquiry widget -->
          <div class="ownerrez-widget"
               data-propertyId="1e98a72325d64e558e7deaf03bac1280"
               data-widget-type="Booking/Inquiry"
               data-widgetId="b0dd17cb7f8e41e293d4b723dc673ac2"></div>
        </div>
      </section>

      <section id="calendar" class="section">
        <h2>Availability Calendar</h2>
        <div class="card">
          <!-- OwnerRez Multiple Month Calendar widget -->
          <div class="ownerrez-widget"
               data-propertyId="1e98a72325d64e558e7deaf03bac1280"
               data-widget-type="Yearly - Multiple Month Calendar"
               data-widgetId="446daf1d6a224fce8fa842019bd1d382"
               data-months="12"></div>
        </div>
      </section>

      <section id="rates" class="section">
        <h2>Rates</h2>
        <div class="card">
          <!-- OwnerRez Rates widget -->
          <div class="ownerrez-widget"
               data-propertyId="1e98a72325d64e558e7deaf03bac1280"
               data-widget-type="Rates - Rates"
               data-widgetId="d749c8e95926472aaef8e70d66da1ed2"></div>
        </div>
      </section>

      <p class="note">Calendar height is fixed to keep the page compact. Scroll inside the calendar to view additional months.</p>
    </main>

    <footer>
      <div class="wrap note">
        Â© <span id="y"></span> StayTheHamptons
      </div>
    </footer>

    <script src="https://app.ownerrez.com/widget.js" data-ownerrez-script="true"></script>
    <script>
      document.getElementById('y').textContent = new Date().getFullYear();

      function clampOwnerRezCalendarHeight(px) {
        document.querySelectorAll('.ownerrez-widget[data-widget-type*="Yearly"] iframe')
          .forEach(function(ifr) {
            ifr.style.height = px + 'px';
            ifr.style.maxHeight = px + 'px';
          });
      }

      function observeAndClamp(px) {
        // Initial clamp
        clampOwnerRezCalendarHeight(px);

        // Re-clamp on resize
        window.addEventListener('resize', function() {
          clampOwnerRezCalendarHeight(px);
        });

        // MutationObserver to catch OwnerRez resizing the iframe
        document.querySelectorAll('.ownerrez-widget[data-widget-type*="Yearly"]').forEach(function(node) {
          var obs = new MutationObserver(function() {
            clampOwnerRezCalendarHeight(px);
          });
          obs.observe(node, { subtree: true, childList: true, attributes: true });
        });
      }

      // Wait a moment for OwnerRez to inject iframes, then clamp
      window.addEventListener('load', function() {
        try {
          if (window.OwnerRez && window.OwnerRez.Widgets && typeof window.OwnerRez.Widgets.init === 'function') {
            window.OwnerRez.Widgets.init();
          }
        } catch (e) {}
        setTimeout(function() { observeAndClamp(600); }, 1000);
      });
    </script>
    <noscript>
      <div class="wrap" style="color:#b91c1c; padding: 8px 0 20px;">
        JavaScript is disabled. Enable it to view booking, calendar, and rates widgets.
      </div>
    </noscript>
  </body>
</html>
